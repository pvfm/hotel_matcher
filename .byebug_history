exit
@mec.post("https://www.tripadvisor.com.br/data/graphql/ids", params.to_json)
params = [ { variables: { query: hotel_name } } ]
@mec.post("https://www.tripadvisor.com.br/data/graphql/ids")
request
@mec.page
result
@mec.page
@mec.post('https://www.tripadvisor.com.br/data/graphql/ids', request.to_json)
request
@mec.page.form
exit
@mec.page.form["searchSessionId"]
@mec.page.form
exit
teste = [
   {
      "query":"5eec1d8288aa8741918a2a5051d289ef",
      "variables":{
         "request":{
            "query":"DoubleTree Hilton Amsterdam",
            "limit":10,
            "scope":"WORLDWIDE",
            "locale":"pt-BR",
            "scopeGeoId":1,
            "searchCenter":null,
            "types":[
               "LOCATION",
               "QUERY_SUGGESTION",
               "RESCUE_RESULT"
            ],
            "locationTypes":[
               "GEO",
               "AIRPORT",
               "ACCOMMODATION",
               "ATTRACTION",
               "ATTRACTION_PRODUCT",
               "EATERY",
               "NEIGHBORHOOD",
               "AIRLINE",
               "SHOPPING",
               "UNIVERSITY",
               "GENERAL_HOSPITAL",
               "PORT",
               "FERRY",
               "CORPORATION",
               "VACATION_RENTAL",
               "SHIP",
               "CRUISE_LINE",
               "CAR_RENTAL_OFFICE"
            ],
            "userId":null,
            "context":{
               "searchSessionId":"00054ea70319276d.ssid",
               "typeaheadId":"1683836664052",
               "uiOrigin":"SINGLE_SEARCH_HERO",
               "routeUid":"09a03120-6af7-4f62-9e3f-e1f6bccd728d"
            },
            "articleCategories":[
               "default",
               "love_your_local",
               "insurance_lander"
            ],
            "enabledFeatures":[
               "typeahead-q",
               "articles"
            ]
         }
      }
   }
]
params
params [
   {
      "query":"5eec1d8288aa8741918a2a5051d289ef",
      "variables":{
         "request":{
            "query":"DoubleTree Hilton Amsterdam",
            "limit":10,
            "scope":"WORLDWIDE",
            "locale":"pt-BR",
            "scopeGeoId":1,
            "searchCenter":null,
            "types":[
               "LOCATION",
               "QUERY_SUGGESTION",
               "RESCUE_RESULT"
            ],
            "locationTypes":[
               "GEO",
               "AIRPORT",
               "ACCOMMODATION",
               "ATTRACTION",
               "ATTRACTION_PRODUCT",
               "EATERY",
               "NEIGHBORHOOD",
               "AIRLINE",
               "SHOPPING",
               "UNIVERSITY",
               "GENERAL_HOSPITAL",
               "PORT",
               "FERRY",
               "CORPORATION",
               "VACATION_RENTAL",
               "SHIP",
               "CRUISE_LINE",
               "CAR_RENTAL_OFFICE"
            ],
            "userId":null,
            "context":{
               "searchSessionId":"00054ea70319276d.ssid",
               "typeaheadId":"1683836664052",
               "uiOrigin":"SINGLE_SEARCH_HERO",
               "routeUid":"09a03120-6af7-4f62-9e3f-e1f6bccd728d"
            },
            "articleCategories":[
               "default",
               "love_your_local",
               "insurance_lander"
            ],
            "enabledFeatures":[
               "typeahead-q",
               "articles"
            ]
         }
      }
   }
]
   }
      }
         }
            ]
               "articles"
               "typeahead-q",
            "enabledFeatures":[
            ],
               "insurance_lander"
               "love_your_local",
               "default",
            "articleCategories":[
            },
               "routeUid":"09a03120-6af7-4f62-9e3f-e1f6bccd728d"
               "uiOrigin":"SINGLE_SEARCH_HERO",
               "typeaheadId":"1683836664052",
               "searchSessionId":"00054ea70319276d.ssid",
            "context":{
            "userId":null,
            ],
               "CAR_RENTAL_OFFICE"
               "CRUISE_LINE",
               "SHIP",
               "VACATION_RENTAL",
               "CORPORATION",
               "FERRY",
               "PORT",
               "GENERAL_HOSPITAL",
               "UNIVERSITY",
               "SHOPPING",
               "AIRLINE",
               "NEIGHBORHOOD",
               "EATERY",
               "ATTRACTION_PRODUCT",
               "ATTRACTION",
               "ACCOMMODATION",
               "AIRPORT",
               "GEO",
            "locationTypes":[
            ],
               "RESCUE_RESULT"
               "QUERY_SUGGESTION",
               "LOCATION",
            "types":[
            "searchCenter":null,
            "scopeGeoId":1,
            "locale":"pt-BR",
            "scope":"WORLDWIDE",
            "limit":10,
            "query":"DoubleTree Hilton Amsterdam",
         "request":{
      "variables":{
      "query":"5eec1d8288aa8741918a2a5051d289ef",
   {
params = [200~[
@mec.page.search('input[id="page-title"]')
@mec.page.uri
@mec.page.body
@mec.page.save("page.html")
@mec.get("https://www.tripadvisor.com.br/Search?geo=188590&q=DoubleTree Hilton&topIds=1946024&queryParsed=true&searchSessionId=001baff9b6f28178.ssid&searchNearby=false&sid=200CDA2C41DE49E18AB960DD489528C31683836313392&withFilters=true&firstEntry=true")
exit
params = [
  {
    "query": "5eec1d8288aa8741918a2a5051d289ef",
    "variables": {
      "request": {
        "query": "DoubleTree Hilton Amsterdam",
        "limit": 10,
        "scope": "WORLDWIDE",
        "locale": "pt-BR",
        "scopeGeoId": 1,
        "searchCenter": null,
        "types": [
          "LOCATION",
          "QUERY_SUGGESTION",
          "RESCUE_RESULT"
        ],
        "locationTypes": [
          "GEO",
          "AIRPORT",
          "ACCOMMODATION",
          "ATTRACTION",
          "ATTRACTION_PRODUCT",
          "EATERY",
          "NEIGHBORHOOD",
          "AIRLINE",
          "SHOPPING",
          "UNIVERSITY",
          "GENERAL_HOSPITAL",
          "PORT",
          "FERRY",
          "CORPORATION",
          "VACATION_RENTAL",
          "SHIP",
          "CRUISE_LINE",
          "CAR_RENTAL_OFFICE"
        ],
        "userId": null,
        "context": {
          "searchSessionId": "000615c2a6706e8c.ssid",
          "uiOrigin": "SINGLE_SEARCH_HERO"
        },
        "articleCategories": [
          "default",
          "love_your_local",
          "insurance_lander"
        ],
        "enabledFeatures": [
          "typeahead-q",
          "articles"
        ]
      }
    }
  }
]
@mec.page.form
@mec.page
exit
@mec.get("tripadviser.com")
@mec.post("https://www.tripadvisor.com.br/data/graphql/ids",params.to_json)
params = [
  {
    "query": "5eec1d8288aa8741918a2a5051d289ef",
    "variables": {
      "request": {
        "query": "DoubleTree Hilton Amsterdam"}}}]
@mec.page.save("trip.html")
@mec.get("https://www.tripadvisor.com.br/Search?geo=188590&q=DoubleTree%20Hilton&topIds=1946024&queryParsed=true&searchSessionId=0005acc5cfb6e423.ssid&searchNearby=false&sid=200CDA2C41DE49E18AB960DD489528C31683835492321&blockRedirect=true&rf=2")
